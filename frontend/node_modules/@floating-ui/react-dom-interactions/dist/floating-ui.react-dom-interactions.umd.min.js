!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@floating-ui/react-dom"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/react-dom","react","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIReactDOM={},e.FloatingUIReactDOM,e.React,e.ReactDOM)}(this,(function(e,t,n,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var u=o(n),c="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function i(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}let l=!1,a=0;const s=()=>"floating-ui-"+a++;const f=u["useId".toString()],d=null!=f?f:function(){const[e,t]=u.useState((()=>l?s():void 0));return c((()=>{null==e&&t(s())}),[]),u.useEffect((()=>{l||(l=!0)}),[]),e},v=u.createContext(null),m=u.createContext(null),p=()=>{var e,t;return null!=(e=null==(t=u.useContext(v))?void 0:t.id)?e:null},g=()=>u.useContext(m);function h(e){var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document}function y(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function b(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function w(e){var t;return null!=(t=h(e).defaultView)?t:window}function E(e){return!!e&&e instanceof w(e).Element}function R(e){return!!e&&e instanceof w(e).HTMLElement}function x(e){if(0===e.mozInputSource&&e.isTrusted)return!0;const t=/Android/i;return(t.test(y())||t.test(b()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function I(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function k(){return/apple/i.test(navigator.vendor)}function T(){return y().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}const S=u["useInsertionEffect".toString()]||(e=>e());function C(e){const t=u.useRef((()=>{}));return S((()=>{t.current=e})),u.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function O(e,t,n){const r=new Map;return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var u;0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(u=r.get(n))||u.push(o),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];null==(e=r.get(n))||e.forEach((e=>e(...o)))})):e[n]=o})),e):e),{})}}function M(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(r=n,"undefined"!=typeof ShadowRoot&&(r instanceof w(r).ShadowRoot||r instanceof ShadowRoot))){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}var r;return!1}function A(e,t){var n;let r=null!=(n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})))?n:[],o=r;for(;o.length;){var u;o=null!=(u=e.filter((e=>{var t;return null==(t=o)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})))?u:[],r=r.concat(o)}return r}function L(e){return"composedPath"in e?e.composedPath()[0]:e.target}function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}const D={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let F,N;function H(e){"Tab"===e.key&&(F=e.target,clearTimeout(N))}const j=u.forwardRef((function(e,t){const n=C(e.onFocus),[r,o]=u.useState();return c((()=>(k()&&o("button"),document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)})),[]),u.createElement("span",P({},e,{ref:t,tabIndex:0,role:r,"aria-hidden":!r||void 0,"data-floating-ui-focus-guard":"",style:D,onFocus:e=>{k()&&T()&&!function(e){const t=F===e.relatedTarget;return F=e.relatedTarget,clearTimeout(N),t}(e)?(e.persist(),N=window.setTimeout((()=>{n(e)}),50)):n(e)}}))}));
/*!
  * tabbable 6.0.1
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  */var K=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),W="undefined"==typeof Element,B=W?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,_=!W&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},q=function e(t,n,r){for(var o=[],u=Array.from(t);u.length;){var c=u.shift();if("SLOT"===c.tagName){var i=c.assignedElements(),l=e(i.length?i:c.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:c,candidates:l})}else{B.call(c,K)&&r.filter(c)&&(n||!t.includes(c))&&o.push(c);var a=c.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(c),s=!r.shadowRootFilter||r.shadowRootFilter(c);if(a&&s){var f=e(!0===a?c.children:a.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:c,candidates:f})}else u.unshift.apply(u,c.children)}}return o},U=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},V=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},X=function(e){return"INPUT"===e.tagName},Y=function(e){return function(e){return X(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||_(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)},z=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},G=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=B.call(e,"details>summary:first-of-type")?e.parentElement:e;if(B.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return z(e)}else{if("function"==typeof r){for(var u=e;e;){var c=e.parentElement,i=_(e);if(c&&!c.shadowRoot&&!0===r(c))return z(e);e=e.assignedSlot?e.assignedSlot:c||i===e.ownerDocument?c:i.host}e=u}if(function(e){for(var t,n=_(e).host,r=!!(null!==(t=n)&&void 0!==t&&t.ownerDocument.contains(n)||e.ownerDocument.contains(e));!r&&n;){var o;r=!(null===(o=n=_(n).host)||void 0===o||!o.ownerDocument.contains(n))}return r}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},$=function(e,t){return!(t.disabled||function(e){return X(e)&&"hidden"===e.type}(t)||G(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!B.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},J=function(e,t){return!(Y(t)||U(t)<0||!$(e,t))},Q=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Z=function e(t){var n=[],r=[];return t.forEach((function(t,o){var u=!!t.scopeParent,c=u?t.scopeParent:t,i=U(c,u),l=u?e(t.candidates):c;0===i?u?n.push.apply(n,l):n.push(c):r.push({documentOrder:o,tabIndex:i,item:t,isScope:u,content:l})})),r.sort(V).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},ee=function(e,t){var n;return n=(t=t||{}).getShadowRoot?q([e],t.includeContainer,{filter:J.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Q}):function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(K));return t&&B.call(e,K)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,J.bind(null,t)),Z(n)};function te(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}const ne=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function re(e,t){const n=ee(e,ne());"prev"===t&&n.reverse();const r=n.indexOf(te(h(e)));return n.slice(r+1)[0]}function oe(){return re(document.body,"next")}function ue(){return re(document.body,"prev")}function ce(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!M(n,r)}function ie(e){ee(e,ne()).forEach((e=>{var t;e.dataset.tabindex=null!=(t=e.getAttribute("tabindex"))?t:"",e.setAttribute("tabindex","-1")}))}function le(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const ae=u.createContext(null),se=function(e){let{id:t,enabled:n=!0}=void 0===e?{}:e;const[r,o]=u.useState(null),i=d(),l=fe();return c((()=>{if(!n)return;const e=t?document.getElementById(t):null;if(!e){const e=document.createElement("div");e.id=t||i,e.setAttribute("data-floating-ui-portal",""),o(e);const n=(null==l?void 0:l.portalNode)||document.body;return n.appendChild(e),()=>{n.removeChild(e)}}e.setAttribute("data-floating-ui-portal",""),o(e)}),[t,l,i,n]),r},fe=()=>u.useContext(ae),de="data-floating-ui-scroll-lock",ve=u.forwardRef((function(e,t){let{lockScroll:n=!1,...r}=e;return c((()=>{var e,t,r,o;if(!n)return;if(document.body.hasAttribute(de))return;document.body.setAttribute(de,"");const u=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",c=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(y()))return Object.assign(document.body.style,{overflow:"hidden",[u]:c+"px"}),()=>{document.body.removeAttribute(de),Object.assign(document.body.style,{overflow:"",[u]:""})};const i=null!=(e=null==(t=window.visualViewport)?void 0:t.offsetLeft)?e:0,l=null!=(r=null==(o=window.visualViewport)?void 0:o.offsetTop)?r:0,a=window.pageXOffset,s=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(s-Math.floor(l))+"px",left:-(a-Math.floor(i))+"px",right:"0",[u]:c+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[u]:""}),document.body.removeAttribute(de),window.scrollTo(a,s)}}),[n]),u.createElement("div",P({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))}));var me=new WeakMap,pe=new WeakMap,ge={},he=0,ye=function(e,t,n){void 0===t&&(t=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];ge[n]||(ge[n]=new WeakMap);var o=ge[n],u=[],c=new Set,i=function(e){e&&!c.has(e)&&(c.add(e),i(e.parentNode))};r.forEach(i);var l=function(e){!e||r.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(c.has(e))l(e);else{var t=e.getAttribute("aria-hidden"),r=null!==t&&"false"!==t,i=(me.get(e)||0)+1,a=(o.get(e)||0)+1;me.set(e,i),o.set(e,a),u.push(e),1===i&&r&&pe.set(e,!0),1===a&&e.setAttribute(n,"true"),r||e.setAttribute("aria-hidden","true")}}))};return l(t),c.clear(),he++,function(){u.forEach((function(e){var t=me.get(e)-1,r=o.get(e)-1;me.set(e,t),o.set(e,r),t||(pe.has(e)||e.removeAttribute("aria-hidden"),pe.delete(e)),r||e.removeAttribute(n)})),--he||(me=new WeakMap,me=new WeakMap,pe=new WeakMap,ge={})}};function be(e){return R(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function we(e){e.preventDefault(),e.stopPropagation()}function Ee(e){const t=n.useRef(e);return c((()=>{t.current=e})),t}let Re=0;function xe(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Re);const u=()=>null==e?void 0:e.focus({preventScroll:n});o?u():Re=requestAnimationFrame(u)}const Ie=u.forwardRef((function(e,t){return u.createElement("button",P({},e,{ref:t,tabIndex:-1,style:D}))}));const ke=["mouse","pen","",void 0];function Te(e,t,n){return n&&!ke.includes(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}const Se=u.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),Ce=()=>u.useContext(Se);function Oe(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}function Me(e){return R(e.target)&&"BUTTON"===e.target.tagName}function Ae(e){return be(e)}function Le(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}const Pe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},De={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"};let Fe=!1;const Ne="ArrowUp",He="ArrowDown",je="ArrowLeft",Ke="ArrowRight";function We(e,t,n){return Math.floor(e/t)!==n}function Be(e,t){return t<0||t>=e.current.length}function _e(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:u=1}=void 0===t?{}:t;const c=e.current;let i=n;do{var l,a;i+=r?-u:u}while(i>=0&&i<=c.length-1&&(o?o.includes(i):null==c[i]||(null==(l=c[i])?void 0:l.hasAttribute("disabled"))||"true"===(null==(a=c[i])?void 0:a.getAttribute("aria-disabled"))));return i}function qe(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Ue(e,t){return qe(t,e===Ne||e===He,e===je||e===Ke)}function Ve(e,t,n){return qe(t,e===He,n?e===je:e===Ke)||"Enter"===e||" "==e||""===e}function Xe(e,t){return _e(e,{disabledIndices:t})}function Ye(e,t){return _e(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}e.FloatingDelayGroup=e=>{let{children:t,delay:n}=e;const[r,o]=u.useState({delay:n,initialDelay:n,currentId:null}),c=u.useCallback((e=>{o((t=>({...t,currentId:e})))}),[]);return u.createElement(Se.Provider,{value:u.useMemo((()=>({...r,setState:o,setCurrentId:c})),[r,o,c])},t)},e.FloatingFocusManager=function(e){let{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:l=!0,modal:a=!0,visuallyHiddenDismiss:s=!1}=e;const{refs:f,nodeId:d,onOpenChange:v,events:m,_:{domReference:p}}=t,y=Ee(r),b=g(),w=fe(),[E,x]=u.useState(null),I="number"==typeof i&&i<0,k=u.useRef(null),T=u.useRef(null),S=u.useRef(!1),C=u.useRef(null),O=null!=w,P=p&&"combobox"===p.getAttribute("role")&&be(p),D=u.useCallback((function(e){return void 0===e&&(e=f.floating.current),e?ee(e,ne()):[]}),[f]),F=u.useCallback((e=>{const t=D(e);return y.current.map((e=>f.domReference.current&&"reference"===e?f.domReference.current:f.floating.current&&"floating"===e?f.floating.current:t)).filter(Boolean).flat()}),[y,f,D]);u.useEffect((()=>{if(!a)return;function e(e){if("Tab"===e.key){0!==D().length||P||we(e);const t=F(),n=L(e);"reference"===y.current[0]&&n===f.domReference.current&&(we(e),e.shiftKey?xe(t[t.length-1]):xe(t[1])),"floating"===y.current[1]&&n===f.floating.current&&e.shiftKey&&(we(e),xe(t[0]))}}const t=h(f.floating.current);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[a,y,f,P,D,F]),u.useEffect((()=>{var e,t;const n=f.floating.current,r=f.domReference.current,o=Array.from(null!=(e=null==w||null==(t=w.portalNode)?void 0:t.querySelectorAll("[data-floating-ui-portal]"))?e:[]);let u=!1;function c(){u=!0,setTimeout((()=>{u=!1}))}function i(e){const t=e.relatedTarget,o=!(M(r,t)||M(n,t)||M(t,n)||M(null==w?void 0:w.portalNode,t)||[null==w?void 0:w.beforeOutsideRef.current,null==w?void 0:w.afterOutsideRef.current].filter(Boolean).includes(t)||b&&(A(b.nodesRef.current,d).find((e=>{var n,r;return M(null==(n=e.context)?void 0:n.refs.floating.current,t)||M(null==(r=e.context)?void 0:r.refs.domReference.current,t)}))||function(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(b.nodesRef.current,d).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.refs.floating.current)===t||(null==(r=e.context)?void 0:r.refs.domReference.current)===t}))));t&&o&&!u&&t!==C.current&&(S.current=!0,setTimeout((()=>v(!1))))}if(n&&R(r)){let e;if(a){const t=[n,...o,...[k.current,T.current].filter(Boolean)];e=ye(y.current.includes("reference")||P?t.concat(r):t)}return r.addEventListener("focusout",i),r.addEventListener("pointerdown",c),!a&&n.addEventListener("focusout",i),()=>{r.removeEventListener("focusout",i),r.removeEventListener("pointerdown",c),!a&&n.removeEventListener("focusout",i),null==e||e()}}}),[a,i,d,b,y,f,w,P,I,v]),u.useEffect((()=>{const e=f.floating.current;if(a&&!o&&e){const t=[],n=ne(),r=ee(h(e).body,n),o=F(),u=r.filter((e=>!o.includes(e)));return u.forEach(((e,n)=>{t[n]=e.getAttribute("tabindex"),e.setAttribute("tabindex","-1")})),()=>{u.forEach(((e,n)=>{const r=t[n];null==r?e.removeAttribute("tabindex"):e.setAttribute("tabindex",r)}))}}}),[a,o,f,F]),c((()=>{const e=f.floating.current;if(!e)return;const t=h(e);let n=l,r=!1;const o=te(t);C.current=o;const u=F(e),c=("number"==typeof i?u[i]:i.current)||e;function a(e){if("escapeKey"===e.type&&f.domReference.current&&(C.current=f.domReference.current),"outsidePress"!==e.type)return;const t=e.data.returnFocus;"object"==typeof t?(n=!0,r=t.preventScroll):n=t}return!I&&xe(c,{preventScroll:c===e}),m.on("dismiss",a),()=>{m.off("dismiss",a),M(e,te(t))&&f.domReference.current&&(C.current=f.domReference.current),n&&R(C.current)&&!S.current&&xe(C.current,{preventScroll:r,cancelPrevious:!1})}}),[F,i,l,f,m,I]),c((()=>{if(w)return w.setFocusManagerState({...t,modal:a}),()=>{w.setFocusManagerState(null)}}),[w,a,t]),c((()=>{0!==D().length||I||x(0)}),[D,f,I]);const N=o&&(O||a)&&!P;function H(e){return s&&a?u.createElement(Ie,{ref:"start"===e?k:T,onClick:()=>v(!1)},"string"==typeof s?s:"Dismiss"):null}return u.createElement(u.Fragment,null,N&&u.createElement(j,{ref:null==w?void 0:w.beforeInsideRef,onFocus:e=>{if(a){const e=F();xe("reference"===r[0]?e[0]:e[e.length-1])}else if(null!=w&&w.preserveTabOrder&&w.portalNode)if(S.current=!1,ce(e,w.portalNode)){const e=oe()||p;null==e||e.focus()}else{var t;null==(t=w.beforeOutsideRef.current)||t.focus()}}}),P?null:H("start"),u.cloneElement(n,0===E||r.includes("floating")?{tabIndex:0}:{}),H("end"),N&&u.createElement(j,{ref:null==w?void 0:w.afterInsideRef,onFocus:e=>{if(a)xe(F()[0]);else if(null!=w&&w.preserveTabOrder&&w.portalNode)if(S.current=!0,ce(e,w.portalNode)){const e=ue()||p;null==e||e.focus()}else{var t;null==(t=w.afterOutsideRef.current)||t.focus()}}}))},e.FloatingNode=e=>{let{children:t,id:n}=e;const r=p();return u.createElement(v.Provider,{value:u.useMemo((()=>({id:n,parentId:r})),[n,r])},t)},e.FloatingOverlay=ve,e.FloatingPortal=e=>{let{children:t,id:n,root:o=null,preserveTabOrder:c=!0}=e;const i=se({id:n,enabled:!o}),[l,a]=u.useState(null),s=u.useRef(null),f=u.useRef(null),d=u.useRef(null),v=u.useRef(null),m=!!l&&!l.modal&&!(!o&&!i)&&c;return u.useEffect((()=>{if(i&&c&&(null==l||!l.modal))return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){if(i&&ce(e)){("focusin"===e.type?le:ie)(i)}}}),[i,c,null==l?void 0:l.modal]),u.createElement(ae.Provider,{value:u.useMemo((()=>({preserveTabOrder:c,beforeOutsideRef:s,afterOutsideRef:f,beforeInsideRef:d,afterInsideRef:v,portalNode:i,setFocusManagerState:a})),[c,i])},m&&i&&u.createElement(j,{ref:s,onFocus:e=>{if(ce(e,i)){var t;null==(t=d.current)||t.focus()}else{const e=ue()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),m&&i&&u.createElement("span",{"aria-owns":i.id,style:D}),o?r.createPortal(t,o):i?r.createPortal(t,i):null,m&&i&&u.createElement(j,{ref:f,onFocus:e=>{if(ce(e,i)){var t;null==(t=v.current)||t.focus()}else{const e=oe()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus(),null==l||l.onOpenChange(!1)}}}))},e.FloatingTree=e=>{let{children:t}=e;const n=u.useRef([]),r=u.useCallback((e=>{n.current=[...n.current,e]}),[]),o=u.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),c=u.useState((()=>i()))[0];return u.createElement(m.Provider,{value:u.useMemo((()=>({nodesRef:n,addNode:r,removeNode:o,events:c})),[n,r,o,c])},t)},e.inner=e=>({name:"inner",options:e,async fn(n){var o;const{listRef:u,overflowRef:c,onFallbackChange:i,offset:l=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:f=0,scrollRef:d,...v}=e,{rects:m,elements:{floating:p}}=n,g=u.current[a];if(!g)return{};const h={...n,...await t.offset(-g.offsetTop-m.reference.height/2-g.offsetHeight/2-l).fn(n)},y=null!=(o=null==d?void 0:d.current)?o:p,b=await t.detectOverflow(Oe(h,y.scrollHeight),v),w=await t.detectOverflow(h,{...v,elementContext:"reference"}),E=Math.max(0,b.top),R=h.y+E,x=Math.max(0,y.scrollHeight-E-Math.max(0,b.bottom));return y.style.maxHeight=x+"px",y.scrollTop=E,i&&(y.offsetHeight<g.offsetHeight*Math.min(s,u.current.length-1)-1||w.top>=-f||w.bottom>=-f?r.flushSync((()=>i(!0))):r.flushSync((()=>i(!1)))),c&&(c.current=await t.detectOverflow(Oe({...h,y:R},y.offsetHeight),v)),{y:R}}}),e.safePolygon=function(e){let t,{restMs:n=0,buffer:r=.5,blockPointerEvents:o=!0,debug:u=null}=void 0===e?{}:e,c=!1;const i=e=>{let{x:o,y:u,placement:i,refs:l,onClose:a,nodeId:s,tree:f,leave:d=!1}=e;return function(e){function v(){clearTimeout(t),a()}clearTimeout(t);const{clientX:m,clientY:p}=e,g=L(e);if("mousemove"===e.type&&M(l.domReference.current,g))return;if("mouseleave"===e.type&&E(e.relatedTarget)&&M(l.floating.current,e.relatedTarget))return;if(f&&A(f.nodesRef.current,s).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if(M(l.floating.current,g)&&!d)return void(c=!0);if(!l.domReference.current||!l.floating.current||null==i||null==o||null==u)return;const h=l.domReference.current.getBoundingClientRect(),y=l.floating.current.getBoundingClientRect(),b=i.split("-")[0],w=o>y.right-y.width/2,R=u>y.bottom-y.height/2;if("top"===b&&u>=h.bottom-1||"bottom"===b&&u<=h.top+1||"left"===b&&o>=h.right-1||"right"===b&&o<=h.left+1)return v();switch(b){case"top":if(m>=y.left&&m<=y.right&&p>=y.top&&p<=h.top+1)return;break;case"bottom":if(m>=y.left&&m<=y.right&&p>=h.bottom-1&&p<=y.bottom)return;break;case"left":if(m>=y.left&&m<=h.left+1&&p>=y.top&&p<=y.bottom)return;break;case"right":if(m>=h.right-1&&m<=y.right&&p>=y.top&&p<=y.bottom)return}if(c)return v();const x=function(e){let[t,n]=e;const o=y.width>h.width,u=y.height>h.height;switch(b){case"top":return[[o?t+r/2:w?t+4*r:t-4*r,n+r+1],[o?t-r/2:w?t+4*r:t-4*r,n+r+1],...[[y.left,w||o?y.bottom-r:y.top],[y.right,w?o?y.bottom-r:y.top:y.bottom-r]]];case"bottom":return[[o?t+r/2:w?t+4*r:t-4*r,n-r],[o?t-r/2:w?t+4*r:t-4*r,n-r],...[[y.left,w||o?y.top+r:y.bottom],[y.right,w?o?y.top+r:y.bottom:y.top+r]]];case"left":{const e=[t+r+1,u?n+r/2:R?n+4*r:n-4*r],o=[t+r+1,u?n-r/2:R?n+4*r:n-4*r];return[...[[R||u?y.right-r:y.left,y.top],[R?u?y.right-r:y.left:y.right-r,y.bottom]],e,o]}case"right":return[[t-r,u?n+r/2:R?n+4*r:n-4*r],[t-r,u?n-r/2:R?n+4*r:n-4*r],...[[R||u?y.left+r:y.right,y.top],[R?u?y.left+r:y.right:y.left+r,y.bottom]]]}}([o,u]);!function(e,t){const[n,r]=e;let o=!1;const u=t.length;for(let e=0,c=u-1;e<u;c=e++){const[u,i]=t[e]||[0,0],[l,a]=t[c]||[0,0];i>=r!=a>=r&&n<=(l-u)*(r-i)/(a-i)+u&&(o=!o)}return o}([m,p],x)?v():n&&(t=setTimeout(a,n))}};return i.__options={blockPointerEvents:o},i},e.useClick=function(e,t){let{open:n,onOpenChange:r,dataRef:o,refs:c}=e,{enabled:i=!0,event:l="click",toggle:a=!0,ignoreMouse:s=!1,keyboardHandlers:f=!0}=void 0===t?{}:t;const d=u.useRef();return u.useMemo((()=>i?{reference:{onPointerDown(e){d.current=e.pointerType},onMouseDown(e){0===e.button&&("mouse"===d.current&&s||"click"!==l&&(n?!a||o.current.openEvent&&"mousedown"!==o.current.openEvent.type||r(!1):(e.preventDefault(),r(!0)),o.current.openEvent=e.nativeEvent))},onClick(e){"mousedown"===l&&d.current?d.current=void 0:"mouse"===d.current&&s||(n?!a||o.current.openEvent&&"click"!==o.current.openEvent.type||r(!1):r(!0),o.current.openEvent=e.nativeEvent)},onKeyDown(e){d.current=void 0,f&&(Me(e)||(" "!==e.key||Ae(c.domReference.current)||e.preventDefault(),"Enter"===e.key&&(n?a&&r(!1):r(!0))))},onKeyUp(e){f&&(Me(e)||Ae(c.domReference.current)||" "===e.key&&(n?a&&r(!1):r(!0)))}}}:{}),[i,o,l,s,f,c,a,n,r])},e.useDelayGroup=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:c,initialDelay:i,setState:l}=Ce();u.useEffect((()=>{c&&(l((e=>({...e,delay:{open:1,close:Te(i,"close")}}))),c!==o&&r(!1))}),[o,r,l,c,i]),u.useEffect((()=>{n||c!==o||(r(!1),l((e=>({...e,delay:i,currentId:null}))))}),[n,l,c,o,r,i])},e.useDelayGroupContext=Ce,e.useDismiss=function(e,n){let{open:r,onOpenChange:o,refs:c,events:i,nodeId:l}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:v=!1,referencePressEvent:m="pointerdown",ancestorScroll:y=!1,bubbles:b=!0}=void 0===n?{}:n;const w=g(),R=null!=p(),k=Ee(f),T=u.useRef(!1);return u.useEffect((()=>{if(!r||!a)return;const e=k.current;function n(e){if("Escape"===e.key){if(!b&&w&&A(w.nodesRef.current,l).length>0)return;i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),o(!1)}}function u(t){const n=T.current;if(T.current=!1,n)return;if("function"==typeof e&&!e(t))return;const r=L(t);if(E(r)&&c.floating.current){var u;const e=null!=(u=c.floating.current.ownerDocument.defaultView)?u:window,n=r.scrollWidth>r.clientWidth,o=r.scrollHeight>r.clientHeight;let i=o&&t.offsetX>r.clientWidth;if(o){"rtl"===e.getComputedStyle(r).direction&&(i=t.offsetX<=r.offsetWidth-r.clientWidth)}if(i||n&&t.offsetY>r.clientHeight)return}const a=w&&A(w.nodesRef.current,l).some((e=>{var n;return Le(t,null==(n=e.context)?void 0:n.refs.floating.current)}));Le(t,c.floating.current)||Le(t,c.domReference.current)||a||!b&&w&&A(w.nodesRef.current,l).length>0||(i.emit("dismiss",{type:"outsidePress",data:{returnFocus:R?{preventScroll:!0}:x(t)||I(t)}}),o(!1))}function f(){o(!1)}const v=h(c.floating.current);s&&v.addEventListener("keydown",n),e&&v.addEventListener(d,u);let m=[];return y&&(E(c.domReference.current)&&(m=t.getOverflowAncestors(c.domReference.current)),E(c.floating.current)&&(m=m.concat(t.getOverflowAncestors(c.floating.current))),!E(c.reference.current)&&c.reference.current&&c.reference.current.contextElement&&(m=m.concat(t.getOverflowAncestors(c.reference.current.contextElement)))),m=m.filter((e=>{var t;return e!==(null==(t=v.defaultView)?void 0:t.visualViewport)})),m.forEach((e=>{e.addEventListener("scroll",f,{passive:!0})})),()=>{s&&v.removeEventListener("keydown",n),e&&v.removeEventListener(d,u),m.forEach((e=>{e.removeEventListener("scroll",f)}))}}),[s,k,d,i,w,l,r,o,y,a,b,c,R]),u.useEffect((()=>{T.current=!1}),[f,d]),u.useMemo((()=>a?{reference:{[Pe[m]]:()=>{v&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),o(!1))}},floating:{[De[d]]:()=>{T.current=!0}}}:{}),[a,i,v,d,m,o])},e.useFloating=function(e){let{open:n=!1,onOpenChange:r,whileElementsMounted:o,placement:l,middleware:a,strategy:s,nodeId:f}=void 0===e?{}:e;const[d,v]=u.useState(null),m=g(),p=u.useRef(null),h=u.useRef({}),y=u.useState((()=>i()))[0],b=t.useFloating({placement:l,middleware:a,strategy:s,whileElementsMounted:o}),w=C(r),R=u.useMemo((()=>({...b.refs,domReference:p})),[b.refs]),x=u.useMemo((()=>({...b,refs:R,dataRef:h,nodeId:f,events:y,open:n,onOpenChange:w,_:{domReference:d}})),[b,f,y,n,w,R,d]);c((()=>{const e=null==m?void 0:m.nodesRef.current.find((e=>e.id===f));e&&(e.context=x)}));const{reference:I}=b,k=u.useCallback((e=>{(E(e)||null===e)&&(x.refs.domReference.current=e,v(e)),I(e)}),[I,x.refs]);return u.useMemo((()=>({...b,context:x,refs:R,reference:k})),[b,R,x,k])},e.useFloatingNodeId=e=>{const t=d(),n=g(),r=p(),o=e||r;return c((()=>{const e={id:t,parentId:o};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,o]),t},e.useFloatingParentNodeId=p,e.useFloatingPortalNode=se,e.useFloatingTree=g,e.useFocus=function(e,t){let{open:n,onOpenChange:r,dataRef:o,refs:c,events:i}=e,{enabled:l=!0,keyboardOnly:a=!0}=void 0===t?{}:t;const s=u.useRef(""),f=u.useRef(!1),d=u.useRef();return u.useEffect((()=>{var e;if(!l)return;const t=null!=(e=h(c.floating.current).defaultView)?e:window;function r(){!n&&R(c.domReference.current)&&c.domReference.current===te(h(c.domReference.current))&&(f.current=!0)}return t.addEventListener("blur",r),()=>{t.removeEventListener("blur",r)}}),[c,n,l]),u.useEffect((()=>{if(l)return i.on("dismiss",e),()=>{i.off("dismiss",e)};function e(e){"referencePress"!==e.type&&"escapeKey"!==e.type||(f.current=!0)}}),[i,l]),u.useEffect((()=>()=>{clearTimeout(d.current)}),[]),u.useMemo((()=>l?{reference:{onPointerDown(e){let{pointerType:t}=e;s.current=t,f.current=!(!t||!a)},onMouseLeave(){f.current=!1},onFocus(e){var t;f.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&o.current.openEvent&&Le(o.current.openEvent,c.domReference.current)||(o.current.openEvent=e.nativeEvent,r(!0))},onBlur(e){f.current=!1;const t=e.relatedTarget,n=E(t)&&t.hasAttribute("data-floating-ui-focus-guard");d.current=setTimeout((()=>{M(c.floating.current,t)||M(c.domReference.current,t)||n||r(!1)}))}}}:{}),[l,a,c,o,r])},e.useHover=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:l=0,move:a=!0}=void 0===t?{}:t;const{open:s,onOpenChange:f,dataRef:d,events:v,refs:m,_:y}=e,b=g(),w=p(),R=Ee(o),x=Ee(r),I=u.useRef(),k=u.useRef(),T=u.useRef(),S=u.useRef(),C=u.useRef(!0),O=u.useRef(!1),M=u.useCallback((()=>{var e;const t=null==(e=d.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[d]);u.useEffect((()=>{if(n)return v.on("dismiss",e),()=>{v.off("dismiss",e)};function e(){clearTimeout(k.current),clearTimeout(S.current),C.current=!0}}),[n,v,m]),u.useEffect((()=>{if(!n||!R.current||!s)return;function e(){M()&&f(!1)}const t=h(m.floating.current).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[m,s,f,n,R,d,M]);const A=u.useCallback((function(e){void 0===e&&(e=!0);const t=Te(x.current,"close",I.current);t&&!T.current?(clearTimeout(k.current),k.current=setTimeout((()=>f(!1)),t)):e&&(clearTimeout(k.current),f(!1))}),[x,f]),L=u.useCallback((()=>{T.current&&(h(m.floating.current).removeEventListener("mousemove",T.current),T.current=void 0)}),[m]),P=u.useCallback((()=>{h(m.floating.current).body.style.pointerEvents="",O.current=!1}),[m]);return u.useEffect((()=>{if(!n)return;function t(){return!!d.current.openEvent&&["click","mousedown"].includes(d.current.openEvent.type)}function r(e){if(clearTimeout(k.current),C.current=!1,i&&!ke.includes(I.current)||l>0&&0===Te(x.current,"open"))return;d.current.openEvent=e;const t=Te(x.current,"open",I.current);t?k.current=setTimeout((()=>{f(!0)}),t):f(!0)}function o(n){if(t())return;const r=h(m.floating.current);if(clearTimeout(S.current),R.current)return clearTimeout(k.current),T.current&&r.removeEventListener("mousemove",T.current),T.current=R.current({...e,tree:b,x:n.clientX,y:n.clientY,onClose(){P(),L(),A()}}),void r.addEventListener("mousemove",T.current);A()}function u(n){t()||null==R.current||R.current({...e,tree:b,x:n.clientX,y:n.clientY,leave:!0,onClose(){P(),L(),A()}})(n)}const c=m.floating.current,v=m.domReference.current;return E(v)?(s&&v.addEventListener("mouseleave",u),null==c||c.addEventListener("mouseleave",u),a&&v.addEventListener("mousemove",r,{once:!0}),v.addEventListener("mouseenter",r),v.addEventListener("mouseleave",o),()=>{s&&v.removeEventListener("mouseleave",u),null==c||c.removeEventListener("mouseleave",u),a&&v.removeEventListener("mousemove",r),v.removeEventListener("mouseenter",r),v.removeEventListener("mouseleave",o)}):void 0}),[y.domReference,n,e,i,l,a,A,L,P,f,s,b,m,x,R,d]),c((()=>{if(n&&s&&R.current&&R.current.__options.blockPointerEvents&&M()){h(m.floating.current).body.style.pointerEvents="none",O.current=!0;const n=m.domReference.current,r=m.floating.current;if(E(n)&&r){var e,t;const o=null==b||null==(e=b.nodesRef.current.find((e=>e.id===w)))||null==(t=e.context)?void 0:t.refs.floating.current;return o&&(o.style.pointerEvents=""),n.style.pointerEvents="auto",r.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents=""}}}}),[n,s,w,m,b,R,d,M]),c((()=>{s||(I.current=void 0,L(),O.current&&P())}),[s,L,P]),u.useEffect((()=>()=>{L(),clearTimeout(k.current),clearTimeout(S.current),O.current&&P()}),[n,L,P]),u.useMemo((()=>{if(!n)return{};function e(e){I.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(){s||0===l||(clearTimeout(S.current),S.current=setTimeout((()=>{C.current||f(!0)}),l))}},floating:{onMouseEnter(){clearTimeout(k.current)},onMouseLeave(){A(!1)}}}}),[n,l,s,f,A])},e.useId=d,e.useInnerOffset=(e,t)=>{let{open:n,refs:o}=e,{enabled:c=!0,overflowRef:i,scrollRef:l,onChange:a}=t;const s=C(a),f=u.useRef(!1),d=u.useRef(null),v=u.useRef(null);return u.useEffect((()=>{var e;if(!c)return;function t(e){if(e.ctrlKey||!u||null==i.current)return;const t=e.deltaY,n=i.current.top>=-.5,o=i.current.bottom>=-.5,c=u.scrollHeight-u.clientHeight,l=t<0?-1:1,a=t<0?"max":"min";u.scrollHeight<=u.clientHeight||(!n&&t>0||!o&&t<0?(e.preventDefault(),r.flushSync((()=>{s((e=>e+Math[a](t,c*l)))}))):/firefox/i.test(b())&&(u.scrollTop+=t))}const u=null!=(e=null==l?void 0:l.current)?e:o.floating.current;return n&&u?(u.addEventListener("wheel",t),requestAnimationFrame((()=>{d.current=u.scrollTop,null!=i.current&&(v.current={...i.current})})),()=>{d.current=null,v.current=null,u.removeEventListener("wheel",t)}):void 0}),[c,n,o,i,l,s]),u.useMemo((()=>c?{floating:{onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const e=(null==l?void 0:l.current)||o.floating.current;if(i.current&&e&&f.current){if(null!==d.current){const t=e.scrollTop-d.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&r.flushSync((()=>s((e=>e+t))))}requestAnimationFrame((()=>{d.current=e.scrollTop}))}}}}:{}),[c,i,o,l,s])},e.useInteractions=function(e){void 0===e&&(e=[]);const t=e,n=u.useCallback((t=>O(t,e,"reference")),t),r=u.useCallback((t=>O(t,e,"floating")),t),o=u.useCallback((t=>O(t,e,"item")),t);return u.useMemo((()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o})),[n,r,o])},e.useListNavigation=function(e,t){let{open:n,onOpenChange:o,refs:i}=e,{listRef:l,activeIndex:a,onNavigate:s=(()=>{}),enabled:f=!0,selectedIndex:d=null,allowEscape:v=!1,loop:m=!1,nested:y=!1,rtl:b=!1,virtual:w=!1,focusItemOnOpen:E="auto",focusItemOnHover:S=!0,openOnArrowKeyDown:O=!0,disabledIndices:A,orientation:L="vertical",cols:P=1}=void 0===t?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const D=p(),F=g(),N=C(s),H=u.useRef(E),j=u.useRef(null!=d?d:-1),K=u.useRef(null),W=u.useRef(!1),B=u.useRef(N),_=u.useRef(n),q=u.useRef(!1),U=Ee(A),V=Ee(n),[X,Y]=u.useState(),z=u.useCallback(((e,t)=>{if(w){var n;Y(null==(n=e.current[t.current])?void 0:n.id)}else{xe(e.current[t.current],{preventScroll:!0,sync:!(!T()||!k())&&(Fe||q.current)})}}),[w]);return c((()=>{document.createElement("div").focus({get preventScroll(){return Fe=!0,!1}})}),[]),c((()=>{f&&(n?H.current&&null!=d&&N(d):_.current&&(j.current=-1,B.current(null)))}),[f,n,d,N]),c((()=>{if(f&&n)if(null==a){if(q.current=!1,null!=d)return;_.current&&(j.current=-1,z(l,j)),!_.current&&H.current&&(null!=K.current||!0===H.current&&null==K.current)&&(j.current=null==K.current||Ve(K.current,L,b)||y?Xe(l,U.current):Ye(l,U.current),N(j.current))}else Be(l,a)||(j.current=a,z(l,j))}),[f,n,a,d,y,l,L,b,N,z,U]),c((()=>{if(f&&_.current&&!n){var e,t;const n=null==F||null==(e=F.nodesRef.current.find((e=>e.id===D)))||null==(t=e.context)?void 0:t.refs.floating.current;n&&!M(n,te(h(n)))&&n.focus({preventScroll:!0})}}),[f,n,F,D]),c((()=>{K.current=null,B.current=N,_.current=n})),u.useMemo((()=>{if(!f)return{};const e=U.current;function t(t){if(W.current=!0,q.current=!0,!V.current&&t.currentTarget===i.floating.current)return;if(y&&function(e,t,n){return qe(t,n?e===Ke:e===je,e===Ne)}(t.key,L,b))return we(t),o(!1),void(R(i.domReference.current)&&i.domReference.current.focus());const r=j.current,u=Xe(l,e),c=Ye(l,e);if("Home"===t.key&&(j.current=u,N(j.current)),"End"===t.key&&(j.current=c,N(j.current)),P>1){const n=j.current;if(t.key===Ne){if(we(t),-1===n)j.current=c;else if(j.current=_e(l,{startingIndex:n,amount:P,decrement:!0,disabledIndices:e}),m&&(n-P<u||j.current<0)){const e=n%P,t=c%P,r=c-(t-e);j.current=t===e?c:t>e?r:r-P}Be(l,j.current)&&(j.current=n),N(j.current)}if(t.key===He&&(we(t),-1===n?j.current=u:(j.current=_e(l,{startingIndex:n,amount:P,disabledIndices:e}),m&&n+P>c&&(j.current=_e(l,{startingIndex:n%P-P,amount:P,disabledIndices:e}))),Be(l,j.current)&&(j.current=n),N(j.current)),"both"===L){const r=Math.floor(n/P);t.key===Ke&&(we(t),n%P!=P-1?(j.current=_e(l,{startingIndex:n,disabledIndices:e}),m&&We(j.current,P,r)&&(j.current=_e(l,{startingIndex:n-n%P-1,disabledIndices:e}))):m&&(j.current=_e(l,{startingIndex:n-n%P-1,disabledIndices:e})),We(j.current,P,r)&&(j.current=n)),t.key===je&&(we(t),n%P!=0?(j.current=_e(l,{startingIndex:n,disabledIndices:e,decrement:!0}),m&&We(j.current,P,r)&&(j.current=_e(l,{startingIndex:n+(P-n%P),decrement:!0,disabledIndices:e}))):m&&(j.current=_e(l,{startingIndex:n+(P-n%P),decrement:!0,disabledIndices:e})),We(j.current,P,r)&&(j.current=n));const o=Math.floor(c/P)===r;return Be(l,j.current)&&(j.current=m&&o?t.key===je?c:_e(l,{startingIndex:n-n%P-1,disabledIndices:e}):n),void N(j.current)}}if(Ue(t.key,L)){if(we(t),n&&!w&&te(t.currentTarget.ownerDocument)===t.currentTarget)return j.current=Ve(t.key,L,b)?u:c,void N(j.current);Ve(t.key,L,b)?j.current=m?r>=c?v&&r!==l.current.length?-1:u:_e(l,{startingIndex:r,disabledIndices:e}):Math.min(c,_e(l,{startingIndex:r,disabledIndices:e})):j.current=m?r<=u?v&&-1!==r?l.current.length:c:_e(l,{startingIndex:r,decrement:!0,disabledIndices:e}):Math.max(u,_e(l,{startingIndex:r,decrement:!0,disabledIndices:e})),Be(l,j.current)?N(null):N(j.current)}}function u(e){"auto"===E&&x(e.nativeEvent)&&(H.current=!0)}return{reference:{...w&&n&&null!=a&&{"aria-activedescendant":X},onKeyDown(r){W.current=!0;const u=0===r.key.indexOf("Arrow");if(w&&n)return t(r);if(!n&&!O&&u)return;(u||"Enter"===r.key||" "===r.key||""===r.key)&&(K.current=r.key),y?function(e,t,n){return qe(t,n?e===je:e===Ke,e===He)}(r.key,L,b)&&(we(r),n?(j.current=Xe(l,e),N(j.current)):o(!0)):Ue(r.key,L)&&(null!=d&&(j.current=d),we(r),!n&&O?o(!0):t(r),n&&N(j.current))},onFocus(){n&&N(null)},onPointerDown:function(e){H.current=E,"auto"===E&&I(e.nativeEvent)&&(H.current=!0)},onMouseDown:u,onClick:u},floating:{"aria-orientation":"both"===L?void 0:L,...w&&null!=a&&{"aria-activedescendant":X},onKeyDown:t,onPointerMove(){W.current=!1}},item:{onFocus(e){let{currentTarget:t}=e;const n=l.current.indexOf(t);-1!==n&&a!==n&&N(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...S&&{onMouseMove(e){let{currentTarget:t}=e;const n=t;if(n){const e=l.current.indexOf(n);-1!==e&&a!==e&&N(e)}},onPointerLeave(){var e;W.current||(j.current=-1,z(l,j),r.flushSync((()=>N(null))),w||null==(e=i.floating.current)||e.focus({preventScroll:!0}))}}}}}),[X,U,V,l,f,L,b,w,n,a,y,d,O,S,v,P,m,i,E,z,N,o])},e.useRole=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=void 0===t?{}:t;const c=d(),i=d();return u.useMemo((()=>{const e={id:c,role:o};return r?"tooltip"===o?{reference:{"aria-describedby":n?c:void 0},floating:e}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":n?c:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:i}},floating:{...e,..."menu"===o&&{"aria-labelledby":i}}}:{}}),[r,o,n,c,i])},e.useTypeahead=function(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:l,onMatch:a=(()=>{}),enabled:s=!0,findMatch:f=null,resetMs:d=1e3,ignoreKeys:v=[],selectedIndex:m=null}=void 0===t?{listRef:{current:[]},activeIndex:null}:t;const p=u.useRef(),g=u.useRef(""),y=u.useRef(null!=(n=null!=m?m:l)?n:-1),b=u.useRef(null),w=C(a),R=Ee(f),x=Ee(v);return c((()=>{r&&(clearTimeout(p.current),b.current=null,g.current="")}),[r]),c((()=>{var e;r&&""===g.current&&(y.current=null!=(e=null!=m?m:l)?e:-1)}),[r,m,l]),u.useMemo((()=>{if(!s)return{};function e(e){const t=L(e.nativeEvent);if(E(t)&&te(h(t))!==e.currentTarget&&t.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==e.currentTarget)return;g.current.length>0&&" "!==g.current[0]&&(o.current.typing=!0," "===e.key&&we(e));const n=i.current;if(null==n||x.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;n.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&g.current===e.key&&(g.current="",y.current=b.current),g.current+=e.key,clearTimeout(p.current),p.current=setTimeout((()=>{g.current="",y.current=b.current,o.current.typing=!1}),d);const r=y.current,u=[...n.slice((null!=r?r:0)+1),...n.slice(0,(null!=r?r:0)+1)],c=R.current?R.current(u,g.current):u.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(g.current.toLocaleLowerCase())))),l=c?n.indexOf(c):-1;-1!==l&&(w(l),b.current=l)}return{reference:{onKeyDown:e},floating:{onKeyDown:e}}}),[s,o,i,d,x,R,w])},Object.keys(t).forEach((function(n){"default"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),Object.defineProperty(e,"__esModule",{value:!0})}));
