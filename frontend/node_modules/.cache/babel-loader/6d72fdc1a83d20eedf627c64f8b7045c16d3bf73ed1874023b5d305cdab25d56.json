{"ast":null,"code":"var _jsxFileName = \"/home/ravi/npciV4/IGC-NPCI-HACKATHON/frontend/src/comp/Home/Nav.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useStore from '../../store';\nimport { ReactComponent as UserProfile } from '../../assets/svg/users/profile.svg';\nimport { DropDownWrapper } from '../UIComp/DropDown';\nimport AddBalance from './Modals/AddBalance';\nimport { fetchCBDCBalance } from '../../apis/apis';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst routes = {\n  investor: {\n    name: \"Investor\",\n    \"Profile\": \"profile\",\n    \"My token holdings\": \"token-holdings\",\n    \"My bond holdings\": \"bond-holdings\",\n    \"Transactions Hitory\": \"transactions-hitory\"\n  },\n  custodian: {\n    name: \"NSDL(Custodian/Depository)\",\n    \"Investors list\": \"investors-list\",\n    \"Tokenized Bonds\": \"tokenised-bond\",\n    \"Transactions list\": \"transactions-hitory\",\n    \"Reports\": \"reports\"\n  },\n  regulator: {\n    name: \"NSE\",\n    \"Investors list\": \"investors-list\",\n    \"Tokenized Bonds\": \"tokenised-bond\",\n    \"Transactions list\": \"transactions-hitory\",\n    \"Reports\": \"reports\"\n  },\n  mbe: {\n    name: \"MBE\",\n    \"Investors list\": \"investors-list\",\n    \"Tokenized Bonds\": \"tokenised-bond\",\n    \"Transactions list\": \"transactions-hitory\",\n    \"Reports\": \"reports\"\n  }\n};\nfunction Nav() {\n  _s();\n  var _routes$role;\n  const isLoggedIn = useStore(state => state.isLoggedIn);\n  const logOut = useStore(state => state.logOut);\n  const role = useStore(state => state.role);\n  const MbeId = useStore(state => state.email);\n  const [open, setOpen] = useState(false);\n  const [list, setList] = useState([]);\n  const [CBDCBalance, setCBDCBalance] = useState({});\n  const navigate = useNavigate();\n  useEffect(() => {\n    let {\n      name,\n      ...newData\n    } = routes[role] || {\n      name: \"\"\n    };\n    setList([...Object.keys(newData), \"Log Out\"]);\n    const onSuccess = payload => {\n      setCBDCBalance(payload);\n    };\n    fetchCBDCBalance({\n      \"MbeId\": MbeId\n    }, onSuccess);\n  }, [role]);\n  const onClk = val => {\n    if (val === \"Log Out\") {\n      logOut();\n      navigate(\"/\");\n    } else {\n      navigate(`/${role}/${routes[role][val]}`);\n    }\n  };\n  const updateOpen = () => setOpen(p => !p);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"df gap-4 sm:gap-8 h-16 px-8 border-b border-[rgba(255,255,255,.6)]\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"mr-auto py-4 sm:text-xl lg:text-2xl font-semibold text-white\",\n        to: \"/\",\n        children: \"Micro Bond Exchange\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"text-white hover:text-emerald-300\",\n        to: \"/mbe-market\",\n        children: \"MBE Market\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [role === \"investor\" && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-0 text-sm hover:underline\",\n          onClick: updateOpen,\n          title: \"Add balance\",\n          children: [\"CBDC Balance : \", CBDCBalance.CBDCbalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(DropDownWrapper, {\n          list: list,\n          onClk: onClk,\n          rootCls: \"p-0\",\n          needArrow: true,\n          boxCls: \"profile-dd\",\n          children: [/*#__PURE__*/_jsxDEV(UserProfile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs\",\n            children: (_routes$role = routes[role]) === null || _routes$role === void 0 ? void 0 : _routes$role.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"hover:text-emerald-500\",\n          to: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"hover:text-emerald-500\",\n          to: \"/signup\",\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddBalance, {\n      isOpen: open,\n      closeModal: updateOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Nav, \"ep40wlmnPVjRar5ujkDPtkH3XLQ=\", false, function () {\n  return [useStore, useStore, useStore, useStore, useNavigate];\n});\n_c = Nav;\nexport default Nav;\nvar _c;\n$RefreshReg$(_c, \"Nav\");","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","useStore","ReactComponent","UserProfile","DropDownWrapper","AddBalance","fetchCBDCBalance","routes","investor","name","custodian","regulator","mbe","Nav","isLoggedIn","state","logOut","role","MbeId","email","open","setOpen","list","setList","CBDCBalance","setCBDCBalance","navigate","newData","Object","keys","onSuccess","payload","onClk","val","updateOpen","p","CBDCbalance"],"sources":["/home/ravi/npciV4/IGC-NPCI-HACKATHON/frontend/src/comp/Home/Nav.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useStore from '../../store';\n\nimport { ReactComponent as UserProfile } from '../../assets/svg/users/profile.svg';\nimport { DropDownWrapper } from '../UIComp/DropDown';\nimport AddBalance from './Modals/AddBalance';\nimport { fetchCBDCBalance } from '../../apis/apis';\n\nconst routes = {\n  investor: {\n    name: \"Investor\",\n    \"Profile\": \"profile\",\n    \"My token holdings\": \"token-holdings\",\n    \"My bond holdings\": \"bond-holdings\",\n    \"Transactions Hitory\": \"transactions-hitory\",\n  },\n  custodian: {\n    name: \"NSDL(Custodian/Depository)\",\n    \"Investors list\": \"investors-list\",\n    \"Tokenized Bonds\": \"tokenised-bond\",\n    \"Transactions list\": \"transactions-hitory\",\n    \"Reports\": \"reports\",\n  },\n  regulator: {\n    name: \"NSE\",\n    \"Investors list\": \"investors-list\",\n    \"Tokenized Bonds\": \"tokenised-bond\",\n    \"Transactions list\": \"transactions-hitory\",\n    \"Reports\": \"reports\",\n  },\n  mbe: {\n    name: \"MBE\",\n    \"Investors list\": \"investors-list\",\n    \"Tokenized Bonds\": \"tokenised-bond\",\n    \"Transactions list\": \"transactions-hitory\",\n    \"Reports\": \"reports\",\n  },\n}\n\nfunction Nav() {\n  const isLoggedIn = useStore(state => state.isLoggedIn)\n  const logOut = useStore(state => state.logOut)\n  const role = useStore(state => state.role)\n  const MbeId = useStore(state => state.email)\n\n  const [open, setOpen] = useState(false)\n  const [list, setList] = useState([])\n  const [CBDCBalance, setCBDCBalance] = useState({})\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    let { name, ...newData } = routes[role] || { name: \"\" }\n    setList([...Object.keys(newData), \"Log Out\"])\n\n    const onSuccess = (payload) => {\n      setCBDCBalance(payload)\n    }\n\n    fetchCBDCBalance({ \"MbeId\": MbeId }, onSuccess)\n  }, [role])\n\n  const onClk = val => {\n    if (val === \"Log Out\") {\n      logOut()\n      navigate(\"/\")\n    } else {\n      navigate(`/${role}/${routes[role][val]}`)\n    }\n  }\n\n  const updateOpen = () => setOpen(p => !p)\n\n  return (\n    <>\n      <nav className=\"df gap-4 sm:gap-8 h-16 px-8 border-b border-[rgba(255,255,255,.6)]\">\n        <Link\n          className='mr-auto py-4 sm:text-xl lg:text-2xl font-semibold text-white'\n          to=\"/\"\n        >\n          Micro Bond Exchange\n        </Link>\n\n        <Link\n          className='text-white hover:text-emerald-300'\n          to=\"/mbe-market\"\n        >\n          MBE Market\n        </Link>\n\n        {\n          isLoggedIn ? <>\n            {\n              role === \"investor\" &&\n              <button\n                className='p-0 text-sm hover:underline'\n                onClick={updateOpen}\n                title=\"Add balance\"\n              >\n                CBDC Balance : {CBDCBalance.CBDCbalance}\n              </button>\n            }\n\n            <DropDownWrapper\n              list={list}\n              onClk={onClk}\n              rootCls=\"p-0\"\n              needArrow\n              boxCls=\"profile-dd\"\n            >\n              <UserProfile /> <span className='text-xs'>{routes[role]?.name}</span>\n            </DropDownWrapper>\n          </> : <>\n            <Link\n              className='hover:text-emerald-500'\n              to=\"/login\"\n            >\n              Login\n            </Link>\n\n            <Link\n              className='hover:text-emerald-500'\n              to=\"/signup\"\n            >\n              Signup\n            </Link>\n          </>\n        }\n      </nav>\n\n      <AddBalance\n        isOpen={open}\n        closeModal={updateOpen}\n      />\n    </>\n  )\n}\n\nexport default Nav"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}