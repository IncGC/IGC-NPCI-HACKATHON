{"ast":null,"code":"import axios from \"axios\";\nimport jsCookie from \"js-cookie\";\nimport { root } from './endPoints';\nexport const cookies = jsCookie;\nconst requestIntercepter = (instance, isAuthendicated, headers) => {\n  instance.interceptors.request.use(function (config) {\n    if (isAuthendicated) {\n      config.headers = {\n        Authorization: cookies.get(\"NPCIToken\"),\n        ...headers\n      };\n    }\n    return config;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n};\nconst responseIntercepter = instance => {\n  instance.interceptors.response.use(res => res.data, error => {\n    var _error$response, _error$response2, _error$response2$data;\n    const err = new Error(error === null || error === void 0 ? void 0 : error.message);\n    err.status = error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n    err.message = error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message;\n    throw err;\n  });\n};\nconst sendApiReq = _ref => {\n  let {\n    isAuthendicated = true,\n    headers = {},\n    ...others\n  } = _ref;\n  const instances = axios.create({\n    baseURL: root.baseUrl\n  });\n  requestIntercepter(instances, isAuthendicated, headers);\n  responseIntercepter(instances);\n  return instances({\n    ...others\n  });\n};\nexport default sendApiReq;","map":{"version":3,"names":["axios","jsCookie","root","cookies","requestIntercepter","instance","isAuthendicated","headers","interceptors","request","use","config","Authorization","get","error","Promise","reject","responseIntercepter","response","res","data","err","Error","message","status","sendApiReq","others","instances","create","baseURL","baseUrl"],"sources":["/home/ravi/npciV4/IGC-NPCI-HACKATHON/frontend/src/utils/sendApiReq.js"],"sourcesContent":["import axios from \"axios\";\nimport jsCookie from \"js-cookie\";\nimport { root } from './endPoints';\n\nexport const cookies = jsCookie;\n\nconst requestIntercepter = (instance, isAuthendicated, headers) => {\n  instance.interceptors.request.use(\n    function (config) {\n      if (isAuthendicated) {\n        config.headers = {\n          Authorization: cookies.get(\"NPCIToken\"),\n          ...headers\n        }\n      }\n\n      return config;\n    },\n    function (error) {\n      return Promise.reject(error);\n    }\n  )\n}\n\nconst responseIntercepter = instance => {\n  instance.interceptors.response.use(\n    res => res.data,\n    error => {\n      const err = new Error(error?.message)\n      err.status = error?.response?.status\n      err.message = error?.response?.data?.message\n      throw err\n    }\n  )\n}\n\nconst sendApiReq = ({ isAuthendicated = true, headers = {}, ...others }) => {\n  const instances = axios.create({\n    baseURL: root.baseUrl,\n  })\n  requestIntercepter(instances, isAuthendicated, headers)\n  responseIntercepter(instances)\n  return instances({ ...others })\n}\n\nexport default sendApiReq;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,WAAW;AAChC,SAASC,IAAI,QAAQ,aAAa;AAElC,OAAO,MAAMC,OAAO,GAAGF,QAAQ;AAE/B,MAAMG,kBAAkB,GAAG,CAACC,QAAQ,EAAEC,eAAe,EAAEC,OAAO,KAAK;EACjEF,QAAQ,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/B,UAAUC,MAAM,EAAE;IAChB,IAAIL,eAAe,EAAE;MACnBK,MAAM,CAACJ,OAAO,GAAG;QACfK,aAAa,EAAET,OAAO,CAACU,GAAG,CAAC,WAAW,CAAC;QACvC,GAAGN;MACL,CAAC;IACH;IAEA,OAAOI,MAAM;EACf,CAAC,EACD,UAAUG,KAAK,EAAE;IACf,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;EAC9B,CAAC,CACF;AACH,CAAC;AAED,MAAMG,mBAAmB,GAAGZ,QAAQ,IAAI;EACtCA,QAAQ,CAACG,YAAY,CAACU,QAAQ,CAACR,GAAG,CAChCS,GAAG,IAAIA,GAAG,CAACC,IAAI,EACfN,KAAK,IAAI;IAAA;IACP,MAAMO,GAAG,GAAG,IAAIC,KAAK,CAACR,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAES,OAAO,CAAC;IACrCF,GAAG,CAACG,MAAM,GAAGV,KAAK,aAALA,KAAK,0CAALA,KAAK,CAAEI,QAAQ,oDAAf,gBAAiBM,MAAM;IACpCH,GAAG,CAACE,OAAO,GAAGT,KAAK,aAALA,KAAK,2CAALA,KAAK,CAAEI,QAAQ,8EAAf,iBAAiBE,IAAI,0DAArB,sBAAuBG,OAAO;IAC5C,MAAMF,GAAG;EACX,CAAC,CACF;AACH,CAAC;AAED,MAAMI,UAAU,GAAG,QAAyD;EAAA,IAAxD;IAAEnB,eAAe,GAAG,IAAI;IAAEC,OAAO,GAAG,CAAC,CAAC;IAAE,GAAGmB;EAAO,CAAC;EACrE,MAAMC,SAAS,GAAG3B,KAAK,CAAC4B,MAAM,CAAC;IAC7BC,OAAO,EAAE3B,IAAI,CAAC4B;EAChB,CAAC,CAAC;EACF1B,kBAAkB,CAACuB,SAAS,EAAErB,eAAe,EAAEC,OAAO,CAAC;EACvDU,mBAAmB,CAACU,SAAS,CAAC;EAC9B,OAAOA,SAAS,CAAC;IAAE,GAAGD;EAAO,CAAC,CAAC;AACjC,CAAC;AAED,eAAeD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}