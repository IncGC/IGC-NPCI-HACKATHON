{"ast":null,"code":"var _jsxFileName = \"/home/ravi/npciV4/IGC-NPCI-HACKATHON/frontend/src/comp/Auth/Signup/Step0.js\",\n  _s = $RefreshSig$();\nimport useStore from \"../../../store/index.js\";\nimport { useState } from \"react\";\nimport { errorNotify, successNotify } from '../../../helper/toastifyHelp';\nimport countryCodes from '../../../constants/countryCodes';\nimport { sendOtp, verifyOtp } from \"../../../apis/apis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Step0(_ref) {\n  _s();\n  let {\n    updateStep\n  } = _ref;\n  const setDetails = useStore(state => state.setDetails);\n  const [selectedCountryCode, setSelectedCountryCode] = useState(\"+91\");\n  const [phoneNumber, setPhoneNumber] = useState(false);\n  const [isOtpEnter, setIsOtpEnter] = useState(false);\n  const [showOtp, setShowOtp] = useState(false);\n  const [details, setDetail] = useState({});\n  const [email, setEmail] = useState(false);\n  const setData = (keyData, valueData) => setDetails(keyData, valueData);\n  const onChange = e => {\n    setDetail(p => ({\n      ...p,\n      [e.target.name]: e.target.value\n    }));\n    if (e.target.name === \"email\") {\n      setEmail(true);\n    }\n    if (e.target.name === \"phoneNumber\") {\n      setPhoneNumber(true);\n    }\n    if (e.target.name === \"enterOtp\") {\n      setIsOtpEnter(true);\n    }\n  };\n  const onSuccessOtpVerify = () => {\n    delete details['enterOtp'];\n    for (const [key, value] of Object.entries(details)) {\n      setData(key, value);\n    }\n    successNotify(\"OTP has been successfully verified\");\n    updateStep(1);\n  };\n  const onWrongOtpEnter = () => {\n    errorNotify(\"Wrong OTP entered\");\n  };\n  const updateShowOtp = () => {\n    successNotify(\"OTP has been sent to your mobile number and email\");\n    setPhoneNumber(p => !p);\n    setShowOtp(p => !p);\n    setEmail(p => !p);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"xs:w-[350px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"p-3 rounded mb-2\",\n      name: \"email\",\n      placeholder: \"Email\",\n      onChange: onChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"df mb-4 border border-gray-300 rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"w-24 border-y-0 border-l-0 rounded-none bg-[length:18px] bg-[88%]\",\n        value: selectedCountryCode,\n        onChange: e => setSelectedCountryCode(e.target.value),\n        children: countryCodes.map((country, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: country.dial_code,\n          children: country.dial_code\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"no-number-arrows p-3 border-none\",\n        name: \"phoneNumber\",\n        placeholder: \"Mobile Number\",\n        onChange: onChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"w-full mt-2 px-6 py-2 font-medium bg-slate-900 text-white rounded-md shadow-xl hover:bg-black disabled:opacity-60\",\n      onClick: () => sendOtp(details, updateShowOtp),\n      disabled: !email || !phoneNumber,\n      children: \"Send OTP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), showOtp && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"p-3 rounded mb-4 mt-8\",\n        name: \"enterOtp\",\n        placeholder: \"OTP\",\n        onChange: onChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-full mt-2 px-6 py-2 font-medium bg-slate-900 text-white rounded-md shadow-xl hover:bg-black\",\n        onClick: () => verifyOtp(details, onSuccessOtpVerify, onWrongOtpEnter),\n        disabled: !isOtpEnter,\n        children: \"Verify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Step0, \"ZdGeDTajevSyl6Wzvlz25L/bwMA=\", false, function () {\n  return [useStore];\n});\n_c = Step0;\nexport default Step0;\nvar _c;\n$RefreshReg$(_c, \"Step0\");","map":{"version":3,"names":["useStore","useState","errorNotify","successNotify","countryCodes","sendOtp","verifyOtp","Step0","updateStep","setDetails","state","selectedCountryCode","setSelectedCountryCode","phoneNumber","setPhoneNumber","isOtpEnter","setIsOtpEnter","showOtp","setShowOtp","details","setDetail","email","setEmail","setData","keyData","valueData","onChange","e","p","target","name","value","onSuccessOtpVerify","key","Object","entries","onWrongOtpEnter","updateShowOtp","map","country","i","dial_code"],"sources":["/home/ravi/npciV4/IGC-NPCI-HACKATHON/frontend/src/comp/Auth/Signup/Step0.js"],"sourcesContent":["import useStore from \"../../../store/index.js\";\nimport { useState } from \"react\";\nimport { errorNotify, successNotify } from '../../../helper/toastifyHelp';\nimport countryCodes from '../../../constants/countryCodes';\nimport { sendOtp, verifyOtp } from \"../../../apis/apis\";\n\nfunction Step0({ updateStep }) {\n  const setDetails = useStore((state) => state.setDetails)\n\n  const [selectedCountryCode, setSelectedCountryCode] = useState(\"+91\")\n  const [phoneNumber, setPhoneNumber] = useState(false)\n  const [isOtpEnter, setIsOtpEnter] = useState(false)\n  const [showOtp, setShowOtp] = useState(false)\n  const [details, setDetail] = useState({})\n  const [email, setEmail] = useState(false)\n\n  const setData = (keyData, valueData) => setDetails(keyData, valueData)\n\n  const onChange = e => {\n    setDetail(p => ({\n      ...p,\n      [e.target.name]: e.target.value\n    }))\n    if (e.target.name === \"email\") {\n      setEmail(true)\n    }\n    if (e.target.name === \"phoneNumber\") {\n      setPhoneNumber(true)\n    }\n    if (e.target.name === \"enterOtp\") {\n      setIsOtpEnter(true)\n    }\n  }\n\n  const onSuccessOtpVerify = () => {\n    delete details['enterOtp']\n    for (const [key, value] of Object.entries(details)) {\n      setData(key, value)\n    }\n    successNotify(\"OTP has been successfully verified\")\n    updateStep(1)\n  }\n\n  const onWrongOtpEnter = () => {\n    errorNotify(\"Wrong OTP entered\")\n  }\n\n  const updateShowOtp = () => {\n    successNotify(\"OTP has been sent to your mobile number and email\")\n    setPhoneNumber(p => !p)\n    setShowOtp(p => !p)\n    setEmail(p => !p)\n  }\n\n  return (\n    <div className='xs:w-[350px]'>\n      <input\n        type=\"text\"\n        className=\"p-3 rounded mb-2\"\n        name=\"email\"\n        placeholder=\"Email\"\n        onChange={onChange}\n        required\n      />\n\n      <div className=\"df mb-4 border border-gray-300 rounded\">\n        <select\n          className=\"w-24 border-y-0 border-l-0 rounded-none bg-[length:18px] bg-[88%]\"\n          value={selectedCountryCode}\n          onChange={e => setSelectedCountryCode(e.target.value)}\n        >\n          {\n            countryCodes.map((country, i) => (\n              <option\n                key={i}\n                value={country.dial_code}\n              >\n                {country.dial_code}\n              </option>\n            ))\n          }\n        </select>\n\n        <input\n          type=\"number\"\n          className=\"no-number-arrows p-3 border-none\"\n          name=\"phoneNumber\"\n          placeholder=\"Mobile Number\"\n          onChange={onChange}\n          required\n        />\n      </div>\n\n      <button\n        className=\"w-full mt-2 px-6 py-2 font-medium bg-slate-900 text-white rounded-md shadow-xl hover:bg-black disabled:opacity-60\"\n        onClick={() => sendOtp(details, updateShowOtp)}\n        disabled={!email || !phoneNumber}\n      >\n        Send OTP\n      </button>\n\n      {\n        showOtp &&\n        <>\n          <input\n            type=\"text\"\n            className=\"p-3 rounded mb-4 mt-8\"\n            name=\"enterOtp\"\n            placeholder=\"OTP\"\n            onChange={onChange}\n            required\n          />\n\n          <button\n            className=\"w-full mt-2 px-6 py-2 font-medium bg-slate-900 text-white rounded-md shadow-xl hover:bg-black\"\n            onClick={() => verifyOtp(details, onSuccessOtpVerify, onWrongOtpEnter)}\n            disabled={!isOtpEnter}\n          >\n            Verify\n          </button>\n        </>\n      }\n    </div>\n  )\n}\n\nexport default Step0"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}